<!--BEGIN header-->
<div class="row">
  <div class="col-md-12">
    <ul class="page-breadcrumb breadcrumb">
      <li>
        <i class="fa fa-home"></i>
	<a href="javascript:;">会员</a>
        <i class="fa fa-angle-right"></i>
      </li>
      <li>
        <a href="javascript:;">新增会员</a>
      </li>
    </ul>
  </div>
</div> <!--END row-->

<!--BEGIN row -->
<div class="row">
  <div class="col-md-12">
    <div class="portlet box blue">      
      <!--BEGIN portlet-body-->
      <div class="portlet-body form">
	<!--BEGIN from -->
	<form class="form-horizontal" name="memberAddForm" novalidate>
	  <!--BEGIN form body-->
	  <div class="form-body">
	    <!--member SN-->
	    <div class="form-group">
	      <label class="col-md-3 control-label">会员号</label>
	      <div class="col-md-4">
		<input type="text"
		       class="form-control"
		       name="sn"
		       x-ng-minlength="8"
		       x-ng-maxlength="8"
		       placeholder="如果不输入,系统将自动生成"
		       x-ng-model="member.number"></input>
	      </div>
	      <div ng-show="memberAddForm.sn.$error.minlength">
		<span style="color:red">会员号太短，请输入8位会员号</span>
	      </div>
	      <div ng-show="memberAddForm.sn.$error.maxlength">
		<span style="color:red">会员号太长，请输入8位会员号</span>
	      </div>
	    </div>
	    
	    <!--member Name-->
	    <div class="form-group">
	      <label class="col-md-3 control-label">姓名</label>
	      <div class="col-md-4">
		<input type="text"
		       class="form-control"
		       name="name"
		       required
		       placeholder="请输入姓名"
		       x-ng-model="member.name"
		       x-ng-minlength="2"
		       x-ng-maxlength="8"></input>		    
	      </div>
	      
	      <div>
		<span style="color:red">*</span>
	      </div>
	      <div ng-show="memberAddForm.name.$error.minlength">
		<span style="color:red">名字太短，请输入2-8个字符</span>
	      </div>
	      <div ng-show="memberAddForm.name.$error.maxlength">
		<span style="color:red">名字太长，请输入2-8个字符</span>
	      </div>
	    </div>

	    <!--sex-->
	    <div class="form-group">
	      <label class="col-md-3 control-label">性别</label>
	      <div class="col-md-4">
		<select class="form-control select-medium"
			x-ng-model="member.selectedSex"
			x-ng-options="s for s in sex">
		</select>
	      </div>
	    </div>

	    <!--open date-->
	    <div class="form-group">
	      <label class="col-md-3 control-label">生日</label>
	      <div class="col-md-4">
		<p class="input-group">
		  <input type="text" class="form-control" name="openDate" required
			 placeholder="年/月/日"
			 datepicker-popup="yyyy/MM/dd"
			 is-open="isOpened"
			 close-text="关闭"
			 clear-text="清除"
			 current-text="今天"
			 show-weeks="false"
			 x-ng-model="member.birthday"></input>
		  <span class="input-group-btn">
		    <button type="button" class="btn btn-default" ng-click="open_calendar($event)">
		      <i class="glyphicon glyphicon-calendar"></i>
		    </button>
		  </span>
		</p>
	      </div>
	      <div >
		<span style="color:red">*</span>
	      </div>
	    </div>
	    
	    <!--birthday-->
	    <!-- <div class="form-group"> -->
	    <!--   <label class="col-md-3 control-label">生日</label> -->
	    <!--   <div class="col-md-4"> -->
	    <!-- 	<input type="date" -->
	    <!-- 	       class="form-control" -->
	    <!-- 	       name="birthday" -->
	    <!-- 	       required -->
	    <!-- 	       x-ng-model="member.birthday"></input> -->
	    <!--   </div> -->
	    <!--   <div > -->
	    <!-- 	<span style="color:red">*</span> -->
	    <!--   </div> -->
	    <!-- </div> -->

	    <!--mobile-->
	    <div class="form-group"
		 ng-class="{'has-error': memberAddForm.mobile.$invalid
			   && !memberAddForm.mobile.$pristine}">
	      <label class="col-md-3 control-label">手机号码</label>
	      <div class="col-md-4">
		<input type="text"
		       name="mobile"
		       required
		       ng-pattern="/^0?(13[0-9]|15[0-35-9]|18[0236-9]|14[57])[0-9]{8}$/"
		       placeholder="请输入手机号码"
		       class="form-control"
		       x-ng-model="member.mobile"></input>
	      </div>
	      <div>
		<span style="color:red">*</span>
	      </div>
	      <div ng-show="memberAddForm.mobile.$invalid && !memberAddForm.mobile.$pristine">
		<span style="color:red">请输入正确的手机号码</span>
	      </div>
	    </div>

	    <!--SLA-->
	    <div class="form-group">
	      <label class="col-md-3 control-label">会员级别</label>
	      <div class="col-md-4">
		<select class="form-control select-medium"
			x-ng-model="member.selectedSLA"
			x-ng-options="l for l in sla">
		</select>
	      </div>
	    </div>

	    <!--mobile-->
	    <div class="form-group"
		 ng-class="{'has-error':memberAddForm.balance.$invalid && !memberAddForm.balance.$pristine}">
	      <label class="col-md-3 control-label">消费金额</label>
	      <div class="col-md-4">
		<input type="text"
		       name="balance"
		       ng-pattern="/^[1-9]*[1-9][0-9]*$/"
		       required
		       placeholder="请输入消费金额"
		       class="form-control"
		       x-ng-model="member.balance"></input>
	      </div>
	      
	      <div>
		<span style="color:red">*</span>
	      </div>
	      <div ng-show="memberAddForm.balance.$invalid && !memberAddForm.balance.$pristine">
		<span style="color:red">请输入大于0的数字</span>
	      </div>
	    </div>

	  </div><!--END form body-->

	  <!--BEGIN form action-->
	  <div class="form-actions fluid">
	    <div class="col-md-offset-3 col-md-9">
	      <button type="submit" class="btn blue"
		      ng-disabled="memberAddForm.$invalid"
		      x-ng-click="new_member()"
		      data-dismiss="modal" data-toggle="modal"
		      data-target="#memberAddResponse">提交</button>
	      <button type="button" class="btn default"
		      data-dismiss="modal"
		      x-ng-click="cancel_new_member()">取消</button>
	    </div>
	  </div> <!--END form action-->

	</form> <!--END form-->
      </div> <!--END portlet body from-->
    </div> <!--END portlet box-->
  </div> <!--END col-md-12-->

</div><!--END row-->

<!-- <subbmit-notify-dialog -->
<!--    dialog-id="memberAddDialog" -->
<!--    notify-title="新增会员" -->
<!--    notify-body="确认要新会员吗?" -->
<!--    subbmit-callback="addVM()"> -->
<!-- </subbmit-notify-dialog> -->

<response-notify-dialog
   response-dialog-id="memberAddResponse"
   success-title="新增会员成功"
   error-title="新增会员失败"
   success-info={{response_success_info}}
   error-info={{response_error_info}}
   response="newMemberResponse()"
   after-close="afterResponse()">
</response-notify-dialog>



