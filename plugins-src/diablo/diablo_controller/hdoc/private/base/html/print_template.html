<div class="row">
  <div class="col-md-12">
    <div class="portlet box purple">
      <div class="portlet-title">
	<div class="caption">
	  <i class="glyphicon glyphicon-menu-hamburger"></i>
	 条码打印模板
	</div>	

	<div class="actions">
	  <div class="btn-group btn-group-solid">
	    <button class="btn red purple-stripe"
		    x-ng-click="create_template()">创建
	      <i class="glyphicon glyphicon-plus"></i></button>
	    
	    <button class="btn btn-success purple-stripe"
		    x-ng-click="save_template()">保存
	      <i class="glyphicon glyphicon-save"></i></button>
	    
	    <button type="button" class="btn blue reload purple-stripe"
		    x-ng-click="refresh()">刷新
	      <i class="icon icon-spinner fg-white"></i></button>
	  </div>
	</div> 
      </div>
      
      <!--BEGIN table container-->
      <div class="portlet-body util-btn-margin-bottom-5">
	<!--BEGIN table-toolbar-->
	<div class="table-toolbar">
	  <div class="row form-group">
	    <div class="col-sm-12 col-md-12">
	      <select class="form-control"
		      x-ng-model="template"
		      x-ng-options="s as s.tname for s in templates|filter:$viewValue">
	      </select>
	    </div>
	  </div>
	</div> <!--END table-toolbar-->
	
	<!--BEGN portlet body--> 
	<div class="portlet-body">
	  <div class="table-responsive">
	    <!--BEGIN table--> 
	    <table class="table table-bordered
			  table-striped table-hover table-condensed" navtable>
	      <thead>
		<tr>
	    	  <th>序号</th> 
		  <th>名称</th>
	    	  <th>取值</th>
		  <th>描述</th>
		</tr>
	      </thead>
	      <tbody x-ng-if="template">
		<tr>
		  <td>0</td>
		  <td>模板名称</td>
		  <td class="col-md-1 col-sm-1">
		    <input class="form-control"
			   type="text"
			   ng-edit
			   x-ng-model="template.name"
			   x-ng-pattern="pattern.name"/> 
		  </td>
		  <td>模板名称</td> 
		</tr>
		
		<tr>
		  <td>1</td>
		  <td>纸宽</td>
		  <td class="col-md-1 col-sm-1">
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.width"/> 
		  </td>
		  <td>单位：厘米</td> 
		</tr>
		
		<tr>
		  <td>2</td>
		  <td>纸高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.height"/>
		    </td>
		  <td>单位：厘米</td>
		</tr>

		<tr>
		  <td>3</td>
		  <td>打印款号</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.style_number"/>
		    </td>
		  <td></td>
		</tr>

		<tr>
		  <td>4</td>
		  <td>打印品牌</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.brand"/>
		    </td>
		  <td></td>
		</tr>

		<tr>
		  <td>5</td>
		  <td>打印类型</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.type"/>
		    </td>
		  <td>一般显示为品名</td>
		</tr>

		<tr>
		  <td>6</td>
		  <td>打印厂商</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.firm"/>
		    </td>
		  <td></td>
		</tr>

		<tr>
		  <td>7</td>
		  <td>打印颜色</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.color"/>
		    </td>
		  <td></td>
		</tr>

		<tr>
		  <td>8</td>
		  <td>打印尺码</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.size"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>9</td>
		  <td>打印等级</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.level"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>10</td>
		  <td>打印执行标准</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.executive"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>11</td>
		  <td>打印安全类别</td> 
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.category"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>12</td>
		  <td>打印面料</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.fabric"/>
		  </td>
		  <td>显示为面料成份</td>
		</tr>

		<tr>
		  <td>13</td>
		  <td>字体名称</td>
		  <td>
		    <input class="form-control"
			   type="text"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font_name"/>
		  </td>
		  <td>必须同操作系统中字体的名称保持一致，默认为宋体</td>
		</tr>
		
		<tr>
		  <td>14</td>
		  <td>字体大小</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font"/>
		  </td>
		  <td>0：表示打印机默认大小</td>
		</tr>

		<tr>
		  <td>15</td>
		  <td>执行标准字体大小</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font_executive"/>
		  </td>
		  <td>0：表示打印机默认大小</td>
		</tr>

		<tr>
		  <td>16</td>
		  <td>安全类别字体大小</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font_category"/>
		  </td>
		  <td>0：表示打印机默认大小</td>
		</tr>

		<tr>
		  <td>17</td>
		  <td>价格字体大小</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font_price"/>
		  </td>
		  <td>0：表示打印机默认大小</td>
		</tr>

		<tr>
		  <td>18</td>
		  <td>成份字体大小</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font_fabric"/>
		  </td>
		  <td>0：表示打印机默认大小</td>
		</tr>

		<tr>
		  <td>19</td>
		  <td>字体加粗</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.bold"/>
		  </td>
		  <td>0：表示打印机默认粗细</td>
		</tr>

		<tr>
		  <td>20</td>
		  <td>品牌独占一行</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.solo_brand"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>21</td>
		  <td>颜色独占一行</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.solo_color"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>22</td>
		  <td>尺码独占一行</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.solo_size"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>23</td>
		  <td>行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_each"/>
		  </td>
		  <td>像素单位</td>
		</tr>

		<tr>
		  <td>24</td>
		  <td>执行标准行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_executive"/>
		  </td>
		  <td>像素单位</td>
		</tr>

		<tr>
		  <td>25</td>
		  <td>安全类别行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_category"/>
		  </td>
		  <td>像素单位</td>
		</tr>

		<tr>
		  <td>26</td>
		  <td>面料成份行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_fabric"/>
		  </td>
		  <td>像素单位</td>
		</tr>

		<tr>
		  <td>27</td>
		  <td>价格行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_price"/>
		  </td>
		  <td>象素单位</td>
		</tr>

		<tr>
		  <td>28</td>
		  <td>条码行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_barcode"/>
		  </td>
		  <td>象素单位</td>
		</tr>

		<tr>
		  <td>29</td>
		  <td>上边距</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_top"/>
		  </td>
		  <td>象素单位</td>
		</tr>

		<tr>
		  <td>30</td>
		  <td>左边距</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_left"/>
		  </td>
		  <td>象素单位</td>
		</tr>
		
		<tr>
		  <td>31</td>
		  <td>用编号代替厂商</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.code_firm"/>
		  </td>
		</tr>

		<tr>
		  <td>32</td>
		  <td>打印货品退货日期</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.expire"/>
		  </td>
		</tr>

		<tr>
		  <td>33</td>
		  <td>双排打印标签纸间距</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.second_space"/>
		  </td>
		  <td>单位：毫米</td> 
		</tr>

		<tr>
		  <td>34</td>
		  <td>打印店铺</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.shop"/>
		  </td>
		  <td></td>
		</tr>

		<tr>
		  <td>35</td>
		  <td>换行打印款号</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.solo_snumber"/>
		  </td>
		  <td>款号过长时换行打印</td>
		</tr>

		<tr>
		  <td>36</td>
		  <td>款号换行阀值</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.len_snumber"/>
		  </td>
		  <td>款号长度大于阀值时，且换行打印款号时，款号打印换行</td>
		</tr>

		<tr>
		  <td>37</td>
		  <td>打印货品上架日期</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.shift_date"/>
		  </td>
		  <td>上架日期与店铺在同一行打印</td>
		</tr>

		<tr>
		  <td>38</td>
		  <td>货品上架日期与规格同一行</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.size_date"/>
		  </td>
		  <td>上架日期与规格同一行打印</td>
		</tr>

		<tr>
		  <td>39</td>
		  <td>颜色尺码同一行</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.size_color"/>
		  </td>
		  <td>颜色尺码同一行打印</td>
		</tr>

		<tr>
		  <td>40</td>
		  <td>货品上架日期与厂商同一行</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.firm_date"/>
		  </td>
		  <td>上架日期与厂商同一行打印</td>
		</tr>

		<tr>
		  <td>41</td>
		  <td>尺码字体大小</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.font_size"/>
		  </td>
		  <td>像素单位</td>
		</tr>
		
		<tr>
		  <td>42</td>
		  <td>尺码行高</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.hpx_size"/>
		  </td>
		  <td>像素单位</td>
		</tr>

		<tr>
		  <td>43</td>
		  <td>尺码偏移量</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   step="1"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.offset_size"/>
		  </td>
		  <td>像素单位</td>
		</tr>

		<tr>
		  <td>44</td>
		  <td>尺码规格描述</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.size_spec"/>
		  </td>
		  <td>货品大类的规格描述</td>
		</tr>

		<tr>
		  <td>45</td>
		  <td>打印虚拟价格</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.p_virprice"/>
		  </td>
		  <td>显示零售价等字样</td>
		</tr>

		<tr>
		  <td>46</td>
		  <td>虚拟价格名字</td>
		  <td>
		    <input class="form-control"
			   type="text"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.vir_price"/>
		  </td>
		  <td>标签上虚拟价格的名字如零售价等</td>
		</tr>

		<tr>
		  <td>47</td>
		  <td>打印吊牌价</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.p_tagprice"/>
		  </td>
		  <td>显示价格等字样,默认不显示</td>
		</tr>

		<tr>
		  <td>48</td>
		  <td>吊牌价格名字</td>
		  <td>
		    <input class="form-control"
			   type="text"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.tag_price"/>
		  </td>
		  <td>标签上吊牌价格的名字如会员价等</td>
		</tr>

		<tr>
		  <td>49</td>
		  <td>虚拟价格偏移</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.offset_virprice"/>
		  </td>
		  <td>象素单位</td>
		</tr>

		<tr>
		  <td>50</td>
		  <td>吊牌价格偏移量</td>
		  <td>
		    <input class="form-control"
			   type="number"
			   disable-wheel
			   disable-key
			   ng-edit
			   x-ng-model="template.offset_tagprice"/>
		  </td>
		  <td>象素单位</td>
		</tr>
		
	      </tbody>
	    </table> <!--END table-->
	  </div> <!--END table-responsive-->
	</div> <!--END portlet body-->
      </div> <!--END table container-->      
    </div> <!--END box purle-->
  </div><!--END col-md-12-->
</div>

<script type="text/ng-template" id="new-template.html">
  <div class="modal-header">
    <button class="close" x-ng-click="cancel()" type="button">
      <span aria-hidden="true">&times;</span>
      <span class="sr-only"></span>
    </button>
    
    <h4 class="modal-title"><span class="label label-sm label-primary">打印模板创建</span></h4>
  </div>

  <div class="modal-body">
    <form class="form-horizontal" name="tForm" novalidate> 
      <div class="form-body">
	<!--Name-->
	<div class="form-group">
	  <label class="col-sm-2 col-md-2 control-label">名称</label> 
	  <div class="col-sm-8 col-md-8">
	    <div class="input-group">
	      <div ng-class="{'has-error':tForm.name.$invalid && !tForm.name.$pristine}">
		<input type="text"
		       class="form-control"
		       name="name"
		       required
		       placeholder="请输入模板名称"
		       x-ng-pattern="params.pattern.name"
		       x-ng-model="params.name"/>
	      </div>
	      <span class="input-group-addon bg-white fg-red">*</span>
	    </div>
	    <div>
	      <div ng-show="tForm.name.$invalid && !tForm.name.$pristine">
		<span class="fg-red">中文，字母，数字，不支持特殊字符</span>
	      </div> 
	    </div> 
	  </div> 
	</div>

	<div class="form-group">
	  <label class="col-sm-2 col-md-2 control-label">店铺</label> 
	  <div class="col-sm-8 col-md-8">
	    <select class="form-control"
		    x-ng-model="params.shop"
		    x-ng-options="s as s.name for s in params.shops|filter:$viewValue">
	    </select> 
	  </div> 
	</div>
      </div> 
    </form>
  </div>

  <div class="modal-footer">
    <button class="btn btn-primary"
	    x-ng-disabled="tForm.$invalid"
	    x-ng-click="ok()">确认</button>
    <button class="btn btn-warning" x-ng-click="cancel()">取消</button>
  </div>
</script>




