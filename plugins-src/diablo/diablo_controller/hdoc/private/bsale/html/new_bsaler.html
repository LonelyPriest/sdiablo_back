<!--BEGIN header-->
<div class="row">
  <div class="col-sm-12 col-md-12">
    <ul class="page-breadcrumb breadcrumb">
      <li>
        <i class="glyphicon glyphicon-menu-hamburger fg-red"></i>
	<a href="javascript:;">批发</a>
        <i class="glyphicon glyphicon-menu-right fg-red"></i>
      </li>
      <li>
        <a href="javascript:;">新增客户</a>
      </li>
    </ul>
  </div>
</div> <!--END header-->

<!--BEGIN row -->
<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12">
    <div class="portlet box blue">
      <!--BEGIN portlet-body-->
      <div class="portlet-body form">
	<!--BEGIN from -->
	<form class="form-horizontal" name="bForm" novalidate>
	  <!--BEGIN form body-->
	  <div class="form-body">
	    <div class="form-group"> 
	      <label class="col-sm-3 col-md-3 control-label">所在店铺</label>
	      <div class="col-sm-6 col-md-6">
	  	<select class="form-control" type="text"
	  		x-ng-model="bsaler.shop" 
	  		x-ng-options="s as s.name for s in shops">
		</select>
	      </div>
	    </div>
	  
	    <!--Name-->
	    <div class="form-group"> 
	      <label class="col-sm-3 col-md-3 control-label">名称</label>
	      <div class="col-sm-6 col-md-6">
		<div class="input-group">
		  <div x-ng-class="{'has-error': bForm.name.$invalid && !bForm.name.$pristine}">
		    <input type="text"
			   class="form-control"
			   name="name"
			   required
			   placeholder="请输入客户名称"
			   x-ng-model="bsaler.name"
			   x-ng-pattern="pattern.name"/>
		  </div>
		  <span class="input-group-addon bg-white fg-red">*</span>
		</div>
		<div ng-show="bForm.name.$invalid && !bForm.name.$pristine">
		  <span class="fg-red">中文，只允许字母，数字，最少2个字符，不超过6个字符</span>
		</div>
	      </div> 
	    </div>

	    <div class="form-group">
	      <label class="col-sm-3 col-md-3 control-label">客户编码</label>
	      <div class="col-sm-6 col-md-6"> 
		<div x-ng-class="{'has-error': bForm.code.$invalid && !bForm.code.$pristine}">
		  <input class="form-control" type="tel"
			 name="code"
			 x-ng-pattern="pattern.bsaler_code"
			 placeholder="请输入客户编码"
			 class="form-control"
			 x-ng-model="bsaler.code"/>
		</div> 
		<div ng-show="bForm.code.$invalid && !bForm.code.$pristine">
		  <span class="fg-red">请输入9位数字编码</span>
		</div>
	      </div> 
	    </div>
	    
	    <div class="form-group">
	      <label class="col-sm-3 col-md-3 control-label">联系方式</label>
	      <div class="col-sm-6 col-md-6"> 
		<div class="input-group">
		  <div x-ng-class="{'has-error': bForm.mobile.$invalid && !bForm.mobile.$pristine}">
		    <input class="form-control" type="tel"
			   name="mobile"
			   required
			   x-ng-pattern="pattern.tel_mobile"
			   placeholder="请输入电话或手机号码"
			   class="form-control"
			   x-ng-model="bsaler.mobile"/>
		  </div>
		  <span class="input-group-addon bg-white fg-red">*</span>
		</div>
		<div ng-show="bForm.mobile.$invalid && !bForm.mobile.$pristine">
		  <span class="fg-red">请输入正确的电话或手机号码</span>
		</div>
	      </div> 
	    </div>

	    <div class="form-group">
	      <label class="col-sm-3 col-md-3 control-label">客户类型</label>
	      <div class="col-sm-6 col-md-6">
	    	<select class="form-control" type="text"
	    		x-ng-model="bsaler.type"
	    		x-ng-options="t as t.name for t in bsaler_types">
	    	</select>
	      </div>
	    </div>

	    <div x-ng-if="bsaler.type.id!==2" class="form-group">
	      <label class="col-sm-3 col-md-3 control-label">余额</label>
	      <div class="col-sm-6 col-md-6">
		<div x-ng-class="{'has-error': bForm.balance.$invalid && !bForm.balance.$pristine}">
		  <input class="form-control"
			 type="number"
			 step="0.01"
			 name="balance"
			 class="form-control"
			 placeholder="默认为0"
			 x-ng-model="bsaler.balance" />
		</div>
		<div ng-show="bForm.balance.$invalid && !bForm.balance.$pristine">
		  <span class="fg-red">请输入正确的数字，支持二位小数</span>
		</div>
	      </div>
	    </div> 
	    
	    <div class="form-group">
	      <label class="col-sm-3 col-md-3 control-label">联系地址</label>
	      <div class="col-sm-6 col-md-6">
		<div x-ng-class="{'has-error':bForm.address.$invalid && !bForm.address.$pristine}">
		  <input type="text"
			 class="form-control"
			 name="address"
			 placeholder="请输入联系地址"
			 x-ng-model="bsaler.address"
			 x-ng-pattern="pattern.name_address"/>
		</div>
		<div x-ng-show="bForm.address.$invalid && !bForm.address.$pristine">
		  <span class="fg-red">必需以中文开头，只允许字母，数字</span>
		</div> 
	      </div> 
	    </div>

	    <div class="form-group"> 
	      <label class="col-sm-3 col-md-3 control-label">所在区域</label>
	      <div class="col-sm-6 col-md-6">
		<div class="input-group">
	  	<input class="form-control" type="text"
		       name="region"
	  	       x-ng-model="bsaler.region"
		       required
		       typeahead-editable="false"
	  	       uib-typeahead="r as r.name for r in regions|filter:$viewValue"/>
		<span class="input-group-addon bg-white fg-red">*</span>
		</div>
		<div ng-show="bForm.region.$invalid && !bForm.region.$pristine">
		  <span class="fg-red">中文，字母，数字，不支持特殊字符</span> 
		</div>
	      </div>
	    </div>

	    <div class="form-group">
	      <label class="col-sm-3 col-md-3 control-label">备注</label>
	      <div class="col-sm-6 col-md-6">
		<div x-ng-class="{'has-error': bForm.comment.$invalid && !bForm.comment.$pristine}">
		  <input type="text"
			 class="form-control"
			 name="remark"
			 placeholder="请输入备注"
			 x-ng-model="bsaler.remark"
			 x-ng-pattern="pattern.comment"/>
		</div>
		<div ng-show="bForm.remark.$invalid && !bForm.remark.$pristine">
		  <span class="fg-red">中文，字母，数字，不支持特殊字符</span> 
		</div>
	      </div>
	    </div>
	    
	  </div><!--END form body-->

	  <!--BEGIN form action-->
	  <div class="form-actions fluid">
	    <div class="col-md-offset-3 col-md-6">
	      <span class="pull-right">
		<button class="btn btn-primary"
			ng-disabled="bForm.$invalid" 
			x-ng-click="new_bsaler(bsaler)">确认</button>
		<button class="btn btn-warning"
			x-ng-click="cancel()">取消</button>
	      </span>
	    </div>
	  </div> <!--END form action-->

	</form> <!--END form-->
      </div> <!--END portlet body from-->
    </div> <!--END portlet box-->
  </div> <!--END col-md-12-->
</div><!--END row-->
