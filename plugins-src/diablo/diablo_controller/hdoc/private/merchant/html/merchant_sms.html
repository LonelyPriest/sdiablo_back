<div class="row">
  <div class="col-md-12">
    <div class="portlet box purple">

      <div class="portlet-title">
	<div class="caption">
	  <i class="glyphicon glyphicon-menu-hamburger"></i>
	  短信费率信息
	</div>

	<div class="actions"> 
	  <button class="btn blue reload"
		  x-ng-click="refresh()">刷新
	    <i class="icon icon-spinner fg-white"></i></button>
	</div>
      </div> 

      <div class="portlet-body"> 
	<div class="portlet-body">
	  <div class="panel panel-default">
	    <div class="table-responsive">
	      <table class="table table-bordered table-striped table-hover
			    table-condensed table-advanced">
		<thead>
		  <tr>
		    <th>序号</th>
		    <th>商家</th>
		    <th>短信签名</th>
		    <th>短信中心</th>
		    <th>余额（分）</th>
		    <th>短信费率（分）</th>
		    <th>联系方式</th>
		    <th>日期</th>
		    <th>操作</th> 
		  </tr>
		</thead>
		<tbody>
		  <tr ng-repeat="s in sms">
		    <td x-ng-bind=s.id></td>
		    <td x-ng-bind=s.name></td>
		    <td x-ng-bind=s.sign></td>
		    <td x-ng-bind=s.team></td>
		    <td x-ng-bind=s.balance></td>
		    <td x-ng-bind=s.rate></td>
		    <td x-ng-bind=s.mobile></td>
		    <td x-ng-bind=s.entry_date></td>
		    <td>
		      <button class="btn green diablo-button"
			      x-ng-click="new_sms_rate(s)">费率
			<i class="glyphicon glyphicon-yen"></i></button>
		      <button class="btn diablo-button btn-warning"
			      x-ng-click="new_sms_sign(s)">签名
			<i class="glyphicon glyphicon-edit"></i></button>
		    </td>
		  </tr>
		</tbody>

	      </table>
	    </div>

	  </div>
	</div>
      </div>
    </div>

  </div>
</div>

<script type="text/ng-template" id="new-rate.html">
  <div class="modal-header">
    <button class="close" x-ng-click="cancel()" type="button">
      <span aria-hidden="true">&times;</span>
      <span class="sr-only"></span>
    </button>
    <h4 class="modal-title">
      <span class="label label-sm label-primary">
	新增短信费率（<span >{{params.name}}</span>）
      </span>
    </h4>
  </div>

  <!--BEGIN modal body-->
  <div class="modal-body">
    <form class="form-horizontal" name="rForm" novalidate>
      <div class="form-group">
	<label class="col-sm-2 col-md-2 control-label">费率（分）</label>
	<div class="col-sm-8 col-md-8">
	  <input class="form-control"
		 required
		 type="number"
		 step="1"
		 name="rate"
		 class="form-control"
		 x-ng-model="params.rate" /> 
	</div>
      </div>
    </form> 
    </div>

  <div class="modal-footer">
    <button class="btn btn-primary"
	    x-ng-disabled="rForm.$invalid"
	    x-ng-click="ok()">确认</button>
    <button class="btn btn-warning" x-ng-click="cancel()">取消</button>
  </div>
</script>


<script type="text/ng-template" id="new-sign.html">
  <div class="modal-header">
    <button class="close" x-ng-click="cancel()" type="button">
      <span aria-hidden="true">&times;</span>
      <span class="sr-only"></span>
    </button>
    <h4 class="modal-title">
      <span class="label label-sm label-primary">
	新增短信签名（<span >{{params.name}}</span>）
      </span>
    </h4>
  </div>

  <!--BEGIN modal body-->
  <div class="modal-body">
    <form class="form-horizontal" name="sForm" novalidate>
      <div class="form-group">
	<label class="col-sm-2 col-md-2 control-label">签名</label>
	<div class="col-sm-8 col-md-8">
	  <input class="form-control"
		 required
		 type="text"
		 name="sign"
		 class="form-control"
		 x-ng-model="params.sign"
		 x-ng-maxlength="16"/> 
	</div>
      </div>
      <div ng-show="sForm.sign.$invalid && !sForm.sign.$pristine">
	<span class="fg-red">中文，不超过16个字符</span>
      </div> 
    </form> 
  </div>

  <div class="modal-footer">
    <button class="btn btn-primary"
	    x-ng-disabled="sForm.$invalid"
	    x-ng-click="ok()">确认</button>
    <button class="btn btn-warning" x-ng-click="cancel()">取消</button>
  </div>
</script>
